<?xml version="1.0"?>
<root>
  <OBJECT NAME="FORNECEDORES">
    <METHOD NAME="Listar" DESCRIPTION="Listar fornecedores com base em filtros informados" VERSION="57" INTFTYPE="5" THREADSAFE="1">
      <PARAMS>
        <GROUPS>
          <GROUP/>
          <GROUP NAME="Endere&#231;o"/>
        </GROUPS>
        <PARAM NAME="COD_FORNECEDOR" SIZE="8" FLAGS="1" PROJECTION="0" ORDER="1" FIELDLABEL="C&#243;digo" CTAB="0"/>
        <PARAM NAME="NOME" SIZE="60" FLAGS="1" PROJECTION="0" ORDER="2" FIELDLABEL="Raz&#227;o Social" CTAB="0"/>
        <PARAM NAME="FANTASIA" SIZE="60" FLAGS="1" PROJECTION="0" ORDER="3" FIELDLABEL="Fantasia" CTAB="0"/>
        <PARAM NAME="CONTATO" SIZE="60" FLAGS="1" PROJECTION="0" ORDER="7" FIELDLABEL="Contato" CTAB="0"/>
        <PARAM NAME="CGC" SIZE="18" FLAGS="1" MASK="##.###.###/####-##" PROJECTION="0" ORDER="4" FIELDLABEL="Cgc" CTAB="0"/>
        <PARAM NAME="IE" SIZE="20" FLAGS="1" PROJECTION="0" ORDER="6" FIELDLABEL="Ie" CTAB="0"/>
        <PARAM NAME="RG" SIZE="12" FLAGS="1" PROJECTION="0" ORDER="8" FIELDLABEL="Rg" CTAB="0"/>
        <PARAM NAME="CPF" SIZE="14" FLAGS="1" MASK="###.###.###-##" PROJECTION="0" ORDER="9" FIELDLABEL="Cpf" CTAB="0"/>
        <PARAM NAME="LOGRADOURO" SIZE="60" FLAGS="1" PROJECTION="0" ORDER="12" FIELDLABEL="Endere&#231;o" GROUPNAME="Endere&#231;o" CTAB="0"/>
        <PARAM NAME="CIDADE" SIZE="60" FLAGS="1" PROJECTION="0" ORDER="13" FIELDLABEL="Cidade" GROUPNAME="Endere&#231;o" CTAB="0"/>
        <PARAM NAME="FONE" SIZE="20" FLAGS="1" PROJECTION="0" ORDER="15" FIELDLABEL="Fone" GROUPNAME="Endere&#231;o" CTAB="0"/>
        <PARAM NAME="CNPJ" SIZE="19" FLAGS="1" MASK="###.###.###/####-##" PROJECTION="0" ORDER="5" FIELDLABEL="Cnpj" CTAB="0"/>
        <PARAM NAME="ENDERECO" FORMAT="N" SIZE="8" FLAGS="1" DEFAULT="0" PROJECTION="0" ORDER="11" LOOKUP="ENDERECOS.Lista" LOOKUPKEY="ENDERECO" LOOKUPDISPLAY="DESCRICAO" LOOKUPCODE="CODIGO" FIELDLABEL="Tipo de Endere&#231;o" GROUPNAME="Endere&#231;o" CTAB="0"/>
        <PARAM NAME="ESTADO" SIZE="2" FLAGS="1" PROJECTION="0" ORDER="14" FIELDLABEL="Estado" GROUPNAME="Endere&#231;o" CTAB="0"/>
        <PARAM NAME="CEPI" SIZE="9" FLAGS="1" MASK="#####-###" PROJECTION="0" ORDER="16" FIELDLABEL="CEP Inicial" GROUPNAME="Endere&#231;o" CTAB="0"/>
        <PARAM NAME="CEPF" SIZE="9" FLAGS="1" MASK="#####.###" PROJECTION="0" ORDER="17" FIELDLABEL="CEP Final" GROUPNAME="Endere&#231;o" CTAB="0"/>
      </PARAMS>
      <FIELDS>
        <GROUPS>
          <GROUP/>
        </GROUPS>
        <FIELD NAME="FORNECEDOR" FORMAT="N" SIZE="8" FLAGS="8" PROJECTION="0" FIELDLABEL="Fornecedor" CTAB="0"/>
        <FIELD NAME="CODIGO" SIZE="8" FLAGS="17" PROJECTION="0" ORDER="21" FIELDLABEL="C&#243;digo" CTAB="0"/>
        <FIELD NAME="NOME" SIZE="60" FLAGS="17" PROJECTION="0" ORDER="22" FIELDLABEL="Raz&#227;o Social" CTAB="0"/>
        <FIELD NAME="CGC" SIZE="18" FLAGS="1" PROJECTION="0" ORDER="24" FIELDLABEL="Cgc" CTAB="0"/>
        <FIELD NAME="LOGRADOURO" SIZE="60" FLAGS="1" PROJECTION="0" ORDER="30" FIELDLABEL="Endere&#231;o" CTAB="0"/>
        <FIELD NAME="CIDADE" SIZE="60" FLAGS="1" PROJECTION="0" ORDER="32" FIELDLABEL="Cidade" CTAB="0"/>
        <FIELD NAME="CNPJ" SIZE="19" FLAGS="1" PROJECTION="0" ORDER="25" FIELDLABEL="Cnpj" CTAB="0"/>
        <FIELD NAME="CONTATO" SIZE="60" FLAGS="1" PROJECTION="0" ORDER="29" FIELDLABEL="Contato" CTAB="0"/>
        <FIELD NAME="FONE" SIZE="20" FLAGS="1" PROJECTION="0" ORDER="36" FIELDLABEL="Fone" CTAB="0"/>
        <FIELD NAME="BAIRRO" SIZE="20" FLAGS="1" PROJECTION="0" ORDER="31" FIELDLABEL="Bairro" CTAB="0"/>
        <FIELD NAME="ESTADO" SIZE="2" FLAGS="1" PROJECTION="0" ORDER="33" FIELDLABEL="Estado" CTAB="0"/>
        <FIELD NAME="CEP" SIZE="9" FLAGS="1" PROJECTION="0" ORDER="34" FIELDLABEL="Cep" CTAB="0"/>
        <FIELD NAME="CPF" SIZE="14" FLAGS="1" PROJECTION="0" ORDER="28" FIELDLABEL="Cpf" CTAB="0"/>
        <FIELD NAME="IE" SIZE="20" FLAGS="1" PROJECTION="0" ORDER="26" FIELDLABEL="Ie" CTAB="0"/>
        <FIELD NAME="RG" SIZE="12" FLAGS="1" PROJECTION="0" ORDER="27" FIELDLABEL="Rg" CTAB="0"/>
        <FIELD NAME="FANTASIA" SIZE="60" FLAGS="1" PROJECTION="0" ORDER="23" FIELDLABEL="Fantasia" CTAB="0"/>
        <FIELD NAME="NAOCONTRIBUINTE_ICMS" FORMAT="B" SIZE="1" FLAGS="1" PROJECTION="0" ORDER="37" FIELDLABEL="N&#227;o Contribuinte ICMS" CTAB="0"/>
        <FIELD NAME="IPI_NAOINCIDE_ICMS" FORMAT="B" SIZE="1" FLAGS="1" PROJECTION="0" ORDER="39" FIELDLABEL="IPI N&#227;o Incide na Base Icms" CTAB="0"/>
        <FIELD NAME="DDD" SIZE="4" FLAGS="1" PROJECTION="0" ORDER="35" FIELDLABEL="Ddd" CTAB="0"/>
        <FIELD NAME="TIPO_EMPRESA" FORMAT="N" SIZE="8" PROJECTION="0" FIELDLABEL="Tipo Empresa" CTAB="0"/>
        <FIELD NAME="CONTRIBUINTE_ICMS" FORMAT="B" SIZE="1" FLAGS="1" PROJECTION="0" ORDER="38" FIELDLABEL="Contribuinte Icms" CTAB="0"/>
      </FIELDS>
      <ACTIONSCRIPT>SELECT FORNECEDORES.FANTASIA,
       FORNECEDORES.FORNECEDOR,
       FORNECEDORES.COD_FORNECEDOR AS CODIGO,
       FORNECEDORES.NOME,
       FORNECEDORES.CGC,
       FORNECEDORES.CNPJ,
       FORNECEDORES.CPF,
       ENDERECOS_CADASTRO.CEP,
       ENDERECOS_CADASTRO.LOGRADOURO,
       ENDERECOS_CADASTRO.CIDADE ,
       ENDERECOS_CADASTRO.CONTATO ,
	   ENDERECOS_CADASTRO.DDD,
       ENDERECOS_CADASTRO.FONE,
       ENDERECOS_CADASTRO.BAIRRO,
       ENDERECOS_CADASTRO.ESTADO,
       FORNECEDORES.IE,
       FORNECEDORES.NAOCONTRIBUINTE_ICMS,
       FORNECEDORES.CONTRIBUINTE_ICMS,
       FORNECEDORES.IPI_NAOINCIDE_ICMS,
       FORNECEDORES.RG,
       FORNECEDORES.TIPO_EMPRESA

FROM FORNECEDORES LEFT JOIN ENDERECOS_CADASTRO
        ON (FORNECEDORES.GERADOR = ENDERECOS_CADASTRO.GERADOR AND ENDERECO = :ENDERECO)
WHERE  
[    COD_FORNECEDOR=:COD_FORNECEDOR]
[AND NOME LIKE :NOME || '%']  
[AND FANTASIA LIKE :FANTASIA || '%' ]  
[AND FORNECEDORES.CONTATO LIKE :CONTATO || '%']
[AND CGC=:CGC]  
[AND IE=:IE]  
[AND RG=:RG]  
[AND (#LPAD(TRIM(FORNECEDORES.CNPJ),19,"0")  = #LPAD(TRIM(:CNPJ),19,"0"))]
[AND CPF=:CPF]
[AND LOGRADOURO=:LOGRADOURO]  
[AND CIDADE=:CIDADE]  
[AND ESTADO=:ESTADO]
[AND CEP BETWEEN :CEPI AND :CEPF]
[AND FONE=:FONE]  

ORDER BY #SELECT(ORDEM,0:NOME,1:COD_FORNECEDOR,2:CEP)
</ACTIONSCRIPT>
    </METHOD>
  </OBJECT>
</root>