<?xml version="1.0"?>
<root>
  <OBJECT NAME="FORNECEDORES">
    <METHOD NAME="Busca" DESCRIPTION="Procurar Fornecedor" VERSION="38" INTFTYPE="5" THREADSAFE="1">
      <PARAMS>
        <GROUPS>
          <GROUP/>
        </GROUPS>
        <PARAM NAME="COD_FORNECEDOR" SIZE="8" FLAGS="1" PROJECTION="0" ORDER="3" FIELDLABEL="C&#243;digo" CTAB="0"/>
        <PARAM NAME="NOME" SIZE="60" FLAGS="1" PROJECTION="0" ORDER="4" FIELDLABEL="Raz&#227;o Social" CTAB="0"/>
        <PARAM NAME="FANTASIA" SIZE="60" FLAGS="1" PROJECTION="0" ORDER="5" FIELDLABEL="Fantasia" CTAB="0"/>
        <PARAM NAME="CONTATO" SIZE="60" FLAGS="1" PROJECTION="0" ORDER="9" FIELDLABEL="Contato" CTAB="0"/>
        <PARAM NAME="CGC" SIZE="18" FLAGS="1" MASK="##.###.###/####-##" PROJECTION="0" ORDER="6" FIELDLABEL="Cgc" CTAB="0"/>
        <PARAM NAME="IE" SIZE="20" FLAGS="1" PROJECTION="0" ORDER="8" FIELDLABEL="Ie" CTAB="0"/>
        <PARAM NAME="RG" SIZE="12" FLAGS="1" PROJECTION="0" ORDER="10" FIELDLABEL="Rg" CTAB="0"/>
        <PARAM NAME="CPF" SIZE="14" FLAGS="1" MASK="###.###.###-##" PROJECTION="0" ORDER="11" FIELDLABEL="Cpf" CTAB="0"/>
        <PARAM NAME="LOGRADOURO" SIZE="60" FLAGS="1" PROJECTION="0" ORDER="12" FIELDLABEL="Endere&#231;o" CTAB="0"/>
        <PARAM NAME="CIDADE" SIZE="60" FLAGS="1" PROJECTION="0" ORDER="13" FIELDLABEL="Cidade" CTAB="0"/>
        <PARAM NAME="FONE" SIZE="20" FLAGS="1" PROJECTION="0" ORDER="18" FIELDLABEL="Fone" CTAB="0"/>
        <PARAM NAME="ORDEM" FORMAT="N" SIZE="1" FLAGS="17" DEFAULT="1" PROJECTION="0" ORDER="2" LOOKUP="list:'0','NOME';'1','C&#211;DIGO';'2','CEP';" FIELDLABEL="Ordem" CTAB="0"/>
        <PARAM NAME="CNPJ" SIZE="19" FLAGS="1" MASK="###.###.###/####-##" PROJECTION="0" ORDER="7" FIELDLABEL="Cnpj" CTAB="0"/>
        <PARAM NAME="ENDERECO" FORMAT="N" SIZE="8" FLAGS="1" DEFAULT="0" PROJECTION="0" ORDER="1" LOOKUP="ENDERECOS.Lista" LOOKUPKEY="ENDERECO" LOOKUPDISPLAY="DESCRICAO" LOOKUPCODE="CODIGO" FIELDLABEL="Tipo de Endere&#231;o" CTAB="0"/>
        <PARAM NAME="ESTADO" SIZE="2" FLAGS="1" PROJECTION="0" ORDER="14" FIELDLABEL="Estado" CTAB="0"/>
        <PARAM NAME="CEPI" SIZE="9" FLAGS="1" MASK="#####-###" PROJECTION="0" ORDER="15" FIELDLABEL="Cep Inicial" CTAB="0"/>
        <PARAM NAME="CEPF" SIZE="9" FLAGS="1" MASK="#####.###" PROJECTION="0" ORDER="16" FIELDLABEL="Cep Final" CTAB="0"/>
        <PARAM NAME="FORNECEDOR" FORMAT="N" SIZE="8" PROJECTION="0" FIELDLABEL="Fornecedor" CTAB="0"/>
        <PARAM NAME="OFICINA" FORMAT="B" SIZE="1" FLAGS="1" PROJECTION="0" ORDER="17" FIELDLABEL="Oficina" CTAB="0"/>
      </PARAMS>
      <FIELDS>
        <GROUPS>
          <GROUP/>
        </GROUPS>
        <FIELD NAME="FORNECEDOR" FORMAT="N" SIZE="8" FLAGS="8" PROJECTION="0" FIELDLABEL="Cliente" CTAB="0"/>
        <FIELD NAME="CODIGO" SIZE="8" FLAGS="17" PROJECTION="0" ORDER="23" FIELDLABEL="C&#243;digo" CTAB="0"/>
        <FIELD NAME="NOME" SIZE="60" FLAGS="17" PROJECTION="0" ORDER="24" FIELDLABEL="Raz&#227;o Social" CTAB="0"/>
        <FIELD NAME="CGC" SIZE="18" FLAGS="1" PROJECTION="0" ORDER="26" FIELDLABEL="Cgc" CTAB="0"/>
        <FIELD NAME="LOGRADOURO" SIZE="60" FLAGS="1" PROJECTION="0" ORDER="28" FIELDLABEL="Endere&#231;o" CTAB="0"/>
        <FIELD NAME="CIDADE" SIZE="60" FLAGS="1" PROJECTION="0" ORDER="30" FIELDLABEL="Cidade" CTAB="0"/>
        <FIELD NAME="CNPJ" SIZE="19" FLAGS="1" PROJECTION="0" ORDER="27" FIELDLABEL="Cnpj" CTAB="0"/>
        <FIELD NAME="CONTATO" SIZE="60" FLAGS="1" PROJECTION="0" ORDER="25" FIELDLABEL="Contato" CTAB="0"/>
        <FIELD NAME="FONE" SIZE="20" FLAGS="1" PROJECTION="0" ORDER="33" FIELDLABEL="Fone" CTAB="0"/>
        <FIELD NAME="BAIRRO" SIZE="20" FLAGS="1" PROJECTION="0" ORDER="29" FIELDLABEL="Bairro" CTAB="0"/>
        <FIELD NAME="ESTADO" SIZE="2" FLAGS="1" PROJECTION="0" ORDER="31" FIELDLABEL="Estado" CTAB="0"/>
        <FIELD NAME="CEP" SIZE="9" FLAGS="1" PROJECTION="0" ORDER="32" FIELDLABEL="Cep" CTAB="0"/>
        <FIELD NAME="IE" SIZE="20" FLAGS="1" PROJECTION="0" ORDER="22" FIELDLABEL="Ie" CTAB="0"/>
        <FIELD NAME="FAX" SIZE="20" FLAGS="1" PROJECTION="0" ORDER="21" FIELDLABEL="Fax" CTAB="0"/>
        <FIELD NAME="ENVIO_TITULO" FORMAT="B" SIZE="1" FLAGS="1" PROJECTION="0" ORDER="20" FIELDLABEL="Envio Titulo" CTAB="0"/>
      </FIELDS>
      <ACTIONSCRIPT>SELECT FORNECEDOR, COD_FORNECEDOR AS CODIGO, NOME, CGC, CNPJ, IE, CEP,
       LOGRADOURO, CIDADE , CONTATO , FONE, BAIRRO, ESTADO, FAX, ENVIO_TITULO
FROM FORNECEDORES LEFT JOIN ENDERECOS_CADASTRO EC
        ON (FORNECEDORES.GERADOR = EC.GERADOR AND
          #SELECT(ENDERECO,NULL:{ENDERECO_NOTA='T'},ELSE:{ENDERECO = :ENDERECO}))

WHERE  #SELECT(FORNECEDOR,NULL:{
[    FORNECEDORES.COD_FORNECEDOR=:COD_FORNECEDOR]
[AND FORNECEDORES.NOME LIKE :NOME || '%']
[AND FORNECEDORES.FANTASIA LIKE :FANTASIA || '%' ]
[AND FORNECEDORES.CONTATO LIKE :CONTATO || '%']
[AND FORNECEDORES.CGC=:CGC]
[AND FORNECEDORES.IE=:IE]
[AND FORNECEDORES.RG=:RG]
[AND FORNECEDORES.CNPJ=:CNPJ]
[AND FORNECEDORES.CPF=:CPF]
[AND LOGRADOURO=:LOGRADOURO]  
[AND CIDADE=:CIDADE]  
[AND ESTADO=:ESTADO]
[AND CEP BETWEEN :CEPI AND :CEPF]
[AND FONE=:FONE]  
[AND OFICINA=:OFICINA]
},ELSE:{FORNECEDOR=:FORNECEDOR})

ORDER BY #SELECT(ORDEM,0:NOME,1:COD_FORNECEDOR,ELSE:CEP)
</ACTIONSCRIPT>
    </METHOD>
  </OBJECT>
</root>