<?xml version="1.0"?>
<root>
  <OBJECT NAME="VOLUMES">
    <METHOD NAME="GeraQuantidade" DESCRIPTION="" VERSION="10" THREADSAFE="1">
      <PARAMS>
        <GROUPS>
          <GROUP/>
        </GROUPS>
        <PARAM NAME="PREFATURAMENTO" FORMAT="N" SIZE="8" PROJECTION="0" FIELDLABEL="Prefaturamento" CTAB="0"/>
        <PARAM NAME="QTDE_VOLUME" FORMAT="N" SIZE="8" PROJECTION="0" FIELDLABEL="Qtde Volume" CTAB="0"/>
        <PARAM NAME="TIPO_VOLUME" FORMAT="N" SIZE="8" PROJECTION="0" FIELDLABEL="Tipo Volume" CTAB="0"/>
      </PARAMS>
      <FIELDS>
        <GROUPS>
          <GROUP/>
        </GROUPS>
        <FIELD NAME="TIPO_VOLUME" FORMAT="N" SIZE="8" FLAGS="1" PROJECTION="0" FIELDLABEL="Tipo Volume" CTAB="0"/>
        <FIELD NAME="PESO" FORMAT="N" SIZE="8" FLAGS="1" DECIMALS="2" PROJECTION="0" FIELDLABEL="Peso" CTAB="0"/>
        <FIELD NAME="ALTURA" FORMAT="N" SIZE="8" FLAGS="1" DECIMALS="2" PROJECTION="0" FIELDLABEL="Atura" CTAB="0"/>
        <FIELD NAME="COMPRIMENTO" FORMAT="N" SIZE="8" FLAGS="1" DECIMALS="2" PROJECTION="0" FIELDLABEL="Comprimento" CTAB="0"/>
        <FIELD NAME="LARGURA" FORMAT="N" SIZE="8" FLAGS="1" DECIMALS="2" PROJECTION="0" FIELDLABEL="Largura" CTAB="0"/>
      </FIELDS>
      <ACTIONSCRIPT>#PRIVATE()
SELECT:PS (SUM(V.PESO*V.QUANTIDADE)/CAST(:QTDE_VOLUME AS INTEGER)) AS PESO
FROM (SELECT PP.produto,PRD.peso,PP.quantidade, PP.prefaturamento
FROM produto_prefat PP
INNER JOIN PRODUTOS PRD ON PRD.produto=PP.produto) V
WHERE V.PREFATURAMENTO=:PREFATURAMENTO
GROUP BY V.PREFATURAMENTO;

SELECT V.TIPO_VOLUME,V.PESO,V.ALTURA,V.COMPRIMENTO,V.LARGURA
FROM(SELECT 1 AS I, TIPO_VOLUME, CAST(:PS.PESO AS DOUBLE PRECISION) AS PESO, ALTURA, COMPRIMENTO, LARGURA FROM TIPOS_VOLUME WHERE TIPO_VOLUME=:TIPO_VOLUME
UNION ALL
SELECT 2, TIPO_VOLUME, CAST(:PS.PESO AS DOUBLE PRECISION), ALTURA, COMPRIMENTO, LARGURA FROM TIPOS_VOLUME WHERE TIPO_VOLUME=:TIPO_VOLUME
UNION ALL
SELECT 3, TIPO_VOLUME, CAST(:PS.PESO AS DOUBLE PRECISION), ALTURA, COMPRIMENTO, LARGURA FROM TIPOS_VOLUME WHERE TIPO_VOLUME=:TIPO_VOLUME
UNION ALL
SELECT 4, TIPO_VOLUME, CAST(:PS.PESO AS DOUBLE PRECISION), ALTURA, COMPRIMENTO, LARGURA FROM TIPOS_VOLUME WHERE TIPO_VOLUME=:TIPO_VOLUME
UNION ALL
SELECT 5, TIPO_VOLUME, CAST(:PS.PESO AS DOUBLE PRECISION), ALTURA, COMPRIMENTO, LARGURA FROM TIPOS_VOLUME WHERE TIPO_VOLUME=:TIPO_VOLUME
UNION ALL
SELECT 6, TIPO_VOLUME, CAST(:PS.PESO AS DOUBLE PRECISION), ALTURA, COMPRIMENTO, LARGURA FROM TIPOS_VOLUME WHERE TIPO_VOLUME=:TIPO_VOLUME
UNION ALL
SELECT 7, TIPO_VOLUME, CAST(:PS.PESO AS DOUBLE PRECISION), ALTURA, COMPRIMENTO, LARGURA FROM TIPOS_VOLUME WHERE TIPO_VOLUME=:TIPO_VOLUME
UNION ALL
SELECT 8, TIPO_VOLUME, CAST(:PS.PESO AS DOUBLE PRECISION), ALTURA, COMPRIMENTO, LARGURA FROM TIPOS_VOLUME WHERE TIPO_VOLUME=:TIPO_VOLUME
UNION ALL
SELECT 9, TIPO_VOLUME, CAST(:PS.PESO AS DOUBLE PRECISION), ALTURA, COMPRIMENTO, LARGURA FROM TIPOS_VOLUME WHERE TIPO_VOLUME=:TIPO_VOLUME
UNION ALL
SELECT 10, TIPO_VOLUME, CAST(:PS.PESO AS DOUBLE PRECISION), ALTURA, COMPRIMENTO, LARGURA FROM TIPOS_VOLUME WHERE TIPO_VOLUME=:TIPO_VOLUME
UNION ALL
SELECT 11, TIPO_VOLUME, CAST(:PS.PESO AS DOUBLE PRECISION), ALTURA, COMPRIMENTO, LARGURA FROM TIPOS_VOLUME WHERE TIPO_VOLUME=:TIPO_VOLUME
UNION ALL
SELECT 12, TIPO_VOLUME, CAST(:PS.PESO AS DOUBLE PRECISION), ALTURA, COMPRIMENTO, LARGURA FROM TIPOS_VOLUME WHERE TIPO_VOLUME=:TIPO_VOLUME
UNION ALL
SELECT 13, TIPO_VOLUME, CAST(:PS.PESO AS DOUBLE PRECISION), ALTURA, COMPRIMENTO, LARGURA FROM TIPOS_VOLUME WHERE TIPO_VOLUME=:TIPO_VOLUME
UNION ALL
SELECT 14, TIPO_VOLUME, CAST(:PS.PESO AS DOUBLE PRECISION), ALTURA, COMPRIMENTO, LARGURA FROM TIPOS_VOLUME WHERE TIPO_VOLUME=:TIPO_VOLUME
UNION ALL
SELECT 15, TIPO_VOLUME, CAST(:PS.PESO AS DOUBLE PRECISION), ALTURA, COMPRIMENTO, LARGURA FROM TIPOS_VOLUME WHERE TIPO_VOLUME=:TIPO_VOLUME
UNION ALL
SELECT 16, TIPO_VOLUME, CAST(:PS.PESO AS DOUBLE PRECISION), ALTURA, COMPRIMENTO, LARGURA FROM TIPOS_VOLUME WHERE TIPO_VOLUME=:TIPO_VOLUME
UNION ALL
SELECT 17, TIPO_VOLUME, CAST(:PS.PESO AS DOUBLE PRECISION), ALTURA, COMPRIMENTO, LARGURA FROM TIPOS_VOLUME WHERE TIPO_VOLUME=:TIPO_VOLUME
UNION ALL
SELECT 18, TIPO_VOLUME, CAST(:PS.PESO AS DOUBLE PRECISION), ALTURA, COMPRIMENTO, LARGURA FROM TIPOS_VOLUME WHERE TIPO_VOLUME=:TIPO_VOLUME
UNION ALL
SELECT 19, TIPO_VOLUME, CAST(:PS.PESO AS DOUBLE PRECISION), ALTURA, COMPRIMENTO, LARGURA FROM TIPOS_VOLUME WHERE TIPO_VOLUME=:TIPO_VOLUME
UNION ALL
SELECT 20, TIPO_VOLUME, CAST(:PS.PESO AS DOUBLE PRECISION), ALTURA, COMPRIMENTO, LARGURA FROM TIPOS_VOLUME WHERE TIPO_VOLUME=:TIPO_VOLUME
UNION ALL
SELECT 21, TIPO_VOLUME, CAST(:PS.PESO AS DOUBLE PRECISION), ALTURA, COMPRIMENTO, LARGURA FROM TIPOS_VOLUME WHERE TIPO_VOLUME=:TIPO_VOLUME
UNION ALL
SELECT 22, TIPO_VOLUME, CAST(:PS.PESO AS DOUBLE PRECISION), ALTURA, COMPRIMENTO, LARGURA FROM TIPOS_VOLUME WHERE TIPO_VOLUME=:TIPO_VOLUME
UNION ALL
SELECT 23, TIPO_VOLUME, CAST(:PS.PESO AS DOUBLE PRECISION), ALTURA, COMPRIMENTO, LARGURA FROM TIPOS_VOLUME WHERE TIPO_VOLUME=:TIPO_VOLUME
UNION ALL
SELECT 24, TIPO_VOLUME, CAST(:PS.PESO AS DOUBLE PRECISION), ALTURA, COMPRIMENTO, LARGURA FROM TIPOS_VOLUME WHERE TIPO_VOLUME=:TIPO_VOLUME
UNION ALL
SELECT 25, TIPO_VOLUME, CAST(:PS.PESO AS DOUBLE PRECISION), ALTURA, COMPRIMENTO, LARGURA FROM TIPOS_VOLUME WHERE TIPO_VOLUME=:TIPO_VOLUME
UNION ALL
SELECT 26, TIPO_VOLUME, CAST(:PS.PESO AS DOUBLE PRECISION), ALTURA, COMPRIMENTO, LARGURA FROM TIPOS_VOLUME WHERE TIPO_VOLUME=:TIPO_VOLUME
UNION ALL
SELECT 27, TIPO_VOLUME, CAST(:PS.PESO AS DOUBLE PRECISION), ALTURA, COMPRIMENTO, LARGURA FROM TIPOS_VOLUME WHERE TIPO_VOLUME=:TIPO_VOLUME
UNION ALL
SELECT 28, TIPO_VOLUME, CAST(:PS.PESO AS DOUBLE PRECISION), ALTURA, COMPRIMENTO, LARGURA FROM TIPOS_VOLUME WHERE TIPO_VOLUME=:TIPO_VOLUME
) V

WHERE V.I&lt;=:QTDE_VOLUME

</ACTIONSCRIPT>
    </METHOD>
  </OBJECT>
</root>