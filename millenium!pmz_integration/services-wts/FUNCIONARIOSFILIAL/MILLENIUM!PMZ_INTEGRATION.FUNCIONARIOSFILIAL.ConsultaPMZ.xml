<?xml version="1.0"?>
<root>
  <OBJECT NAME="FUNCIONARIOSFILIAL">
    <METHOD NAME="ConsultaPMZ" DESCRIPTION="Consultar Funcionarios" VERSION="18" INTFTYPE="6" THREADSAFE="1">
      <PARAMS>
        <GROUPS>
          <GROUP/>
        </GROUPS>
        <PARAM NAME="COD_FUNCIONARIO" SIZE="7" FLAGS="1" PROJECTION="0" FIELDLABEL="Cod Funcionario" CTAB="0"/>
        <PARAM NAME="CPF_CNPJ" SIZE="20" FLAGS="1" PROJECTION="0" FIELDLABEL="Cpf Cnpj" CTAB="0"/>
      </PARAMS>
      <FIELDS>
        <GROUPS>
          <GROUP/>
        </GROUPS>
        <FIELD NAME="FUNCIONARIO" FORMAT="N" SIZE="8" FLAGS="1" PROJECTION="0" FIELDLABEL="Funcionario" CTAB="0"/>
        <FIELD NAME="COD_FUNCIONARIO" SIZE="7" FLAGS="1" PROJECTION="0" FIELDLABEL="Cod Funcionario" CTAB="0"/>
        <FIELD NAME="DESATIVADO" FORMAT="B" SIZE="1" FLAGS="1" PROJECTION="0" FIELDLABEL="Desativado" CTAB="0"/>
        <FIELD NAME="CARGOS" FORMAT="R" FLAGS="1" PROJECTION="0" FIELDLABEL="Cargos" NESTEDNAME="millenium.CARGOS.CARGO" CTAB="0"/>
        <FIELD NAME="GERADORES" FORMAT="R" FLAGS="1" PROJECTION="0" FIELDLABEL="Geradores" NESTEDNAME="millenium.GERADORES.GERADORES" CTAB="0"/>
      </FIELDS>
      <ACTIONSCRIPT>SELECT:FUN FUNCIONARIO,
        GERADOR,
        COD_FUNCIONARIO,
        CARGO,
        NAO_MOSTRAR_NO_EVENTO AS DESATIVADO
#ROWSET({#CALL:geradores millenium.geradores.consultar(:FUN.GERADOR)})
#ROWSET({#CALL:cargos    millenium.cargos.consulta(:FUN.CARGO)})
FROM FUNCIONARIOS
WHERE ( ( COD_FUNCIONARIO=:COD_FUNCIONARIO)  or ( PF_PJ = 'PF' and CPF = :CPF_CNPJ) or  ( PF_PJ = 'PJ' and  CNPJ = :CPF_CNPJ) );
</ACTIONSCRIPT>
    </METHOD>
  </OBJECT>
</root>