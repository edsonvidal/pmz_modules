<?xml version="1.0"?>
<root>
  <OBJECT NAME="LANCAMENTOS">
    <METHOD NAME="Titulo_Baixar" DESCRIPTION="" VERSION="24" THREADSAFE="0">
      <PARAMS>
        <GROUPS>
          <GROUP/>
        </GROUPS>
        <PARAM NAME="N_DOCUMENTO" SIZE="35" FLAGS="17" PROJECTION="0" ORDER="6" FIELDLABEL="Lancamento" CTAB="0"/>
        <PARAM NAME="VALOR" FORMAT="M" SIZE="17" FLAGS="1" DECIMALS="4" PROJECTION="0" ORDER="13" FIELDLABEL="Valor Pago" CTAB="0"/>
        <PARAM NAME="DATA_PAGAMENTO" FORMAT="D" SIZE="10" FLAGS="1" PROJECTION="0" ORDER="2" FIELDLABEL="Data Pagamento" CTAB="0"/>
        <PARAM NAME="GERA_OUTRO" FORMAT="B" SIZE="1" FLAGS="1" PROJECTION="0" ORDER="5" FIELDLABEL="Gera Outro" CTAB="0"/>
        <PARAM NAME="FILIAL" FORMAT="N" SIZE="8" FLAGS="1" PROJECTION="0" ORDER="4" FIELDLABEL="Filial" CTAB="0"/>
        <PARAM NAME="CONTA" FORMAT="N" SIZE="8" FLAGS="1" PROJECTION="0" ORDER="1" FIELDLABEL="Conta Pagamento" CTAB="0"/>
        <PARAM NAME="TIPO_PGTO" FORMAT="N" SIZE="8" FLAGS="1" PROJECTION="0" ORDER="8" FIELDLABEL="Tipo Pgto" CTAB="0"/>
        <PARAM NAME="OBSERVACAO" SIZE="100" FLAGS="1" PROJECTION="0" ORDER="7" FIELDLABEL="Observacao" CTAB="0"/>
        <PARAM NAME="VAL_DESCONTO" FORMAT="M" SIZE="17" FLAGS="1" DECIMALS="4" PROJECTION="0" ORDER="10" FIELDLABEL="Val Desconto" CTAB="0"/>
        <PARAM NAME="VALOR_AUT" FORMAT="M" SIZE="17" FLAGS="1" DECIMALS="4" PROJECTION="0" ORDER="12" FIELDLABEL="Valor Aut" CTAB="0"/>
        <PARAM NAME="VAL_PARCELAMENTO" FORMAT="M" SIZE="17" FLAGS="1" DECIMALS="4" PROJECTION="0" ORDER="11" FIELDLABEL="Val Parcelamento" CTAB="0"/>
        <PARAM NAME="VAL_CUSTO" FORMAT="N" SIZE="8" FLAGS="1" PROJECTION="0" ORDER="9" FIELDLABEL="Val Custo" CTAB="0"/>
        <PARAM NAME="EFETUADO" FORMAT="B" SIZE="1" FLAGS="1" PROJECTION="0" ORDER="3" FIELDLABEL="Efetuado" CTAB="0"/>
        <PARAM NAME="COD_CONTA" SIZE="10" FLAGS="17" PROJECTION="0" FIELDLABEL="Cod Conta" CTAB="0"/>
      </PARAMS>
      <FIELDS/>
      <ACTIONSCRIPT>//API para baica de titulo provisionados a PAGAR ou a RECEBER(Edson Vidal/Magdiel Araujo 30/06/2021)

//Consulta e valida a filial informada
#PRIVATE()
  SELECT:FL FILIAL FROM FILIAIS WHERE COD_FILIAL=:COD_FILIAL;
    #SELECT(FL._EOF, TRUE:{#CHECK("SELECT COUNT(*) AS N FROM DUAL",N>0,"Filial n&#227;o encontrada !")},ELSE:{});
    
//Consulta o lancamento
#PRIVATE()
  SELECT:FL FILIAL FROM FILIAIS WHERE COD_FILIAL=:COD_FILIAL;
    #SELECT(FL._EOF, TRUE:{#CHECK("SELECT COUNT(*) AS N FROM DUAL",N>0,"Filial n&#227;o encontrada !")},ELSE:{});

#CALL MILLENIUM.TITULOS.BAIXA(
   LANCAMENTO=:LANCAMENTO
  ,VALOR=:VALOR
  ,DATA_PAGAMENTO=:DATA_PAGAMENTO
  ,GERA_OUTRO=:GERA_OUTRO
  ,CONTA=:CONTA
  ,VAL_CUSTO=:VAL_CUSTO
  ,VAL_DESCONTO=:VAL_DESCONTO
);
</ACTIONSCRIPT>
    </METHOD>
  </OBJECT>
</root>